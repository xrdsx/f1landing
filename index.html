<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Turniej Streamerów - Live Stream</title>
    <link rel="icon" type="image/png" href="f1-icon.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-red: #E10600;
            --secondary-red: #FF1E00;
            --accent-yellow: #FFD700;
            --gaming-green: #00FF88;
            --text-primary: #FFFFFF;
            --text-secondary: #B8B8B8;
            --background-dark: #0A0A0A;
            --background-card: rgba(255, 255, 255, 0.05);
            --border-color: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: 
                linear-gradient(rgba(10, 10, 10, 0.85), rgba(10, 10, 10, 0.85)),
                url('https://i.ytimg.com/vi/SahF8zmF34g/maxresdefault.jpg') center/cover no-repeat fixed;
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 2500px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-red);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .logitech-logo {
            height: 40px;
            width: auto;
            filter: brightness(0.9);
        }

        /* Added styles for powered by section */
        .powered-by-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .powered-by-text {
            color: var(--text-primary);
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .mrdzinold-logo {
            height: 35px;
            width: auto;
            border-radius: 4px;
        }

        /* Main Layout */
        .main-container {
            max-width: 2500px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 300px 1fr 300px;
            gap: 20px;
            min-height: calc(100vh - 100px);
            align-items: stretch;
        }

                .race-info-panel,
.stream-panel,
.right-panel,
.chat-panel {
    height: 100%;        /* panel zajmuje całą wysokość kolumny */
    display: flex;
    flex-direction: column;
}

        /* Left Panel - Race Info */
        .race-info-panel {
            background: var(--background-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(20px);
            height: fit-content;
        }

        .panel-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--accent-yellow);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px solid var(--accent-yellow);
            padding-bottom: 10px;
        }

        .race-info {
            space-y: 15px;
        }

        .info-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .info-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .info-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .position-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .position-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 6px;
            border-left: 3px solid var(--gaming-green);
        }

        .position-number {
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            color: var(--accent-yellow);
            font-size: 1.2rem;
            min-width: 30px;
        }

        .driver-name {
            flex: 1;
            margin-left: 15px;
            font-weight: 500;
        }

        .driver-status {
            font-size: 0.8rem;
            color: var(--gaming-green);
            text-transform: uppercase;
        }

        /* Center Panel - Live Stream */
        .stream-panel {
            background: var(--background-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
        }

        .stream-header {
            text-align: center;
            margin-bottom: 20px;
        }

        .stream-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-red);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .main-container.cinema-mode {
  grid-template-columns: 75% 25% !important;
}

.cinema-mode #raceInfoPanel {
  display: none !important;
}

.cinema-mode #streamPanel,
.cinema-mode #chatPanel {
  grid-column: auto !important;
}

/* Reset, gdy wyłączony */
.main-container:not(.cinema-mode) #raceInfoPanel {
  display: block;
}

        .stream-container {
            flex: 1;
            background: #000;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .twitch-embed {
            width: 100%;
            height: 100%;
            min-height: 500px;
            border: none;
            border-radius: 8px;
        }

        /* Right Panel - Sponsors & Links */
        .right-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .sponsors-panel, .links-panel {
            background: var(--background-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(20px);
        }

        .sponsors-panel {
            flex: 1;
        }

        /* PODMIEŃ definicję .sponsor-slider na tę (usuwa szarą obramówkę) */
.sponsor-slider {
  height: 200px;
  background: transparent;     /* było: rgba(255, 255, 255, 0.03) */
  border: none;                /* było: 2px dashed var(--border-color) */
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-secondary);
  font-style: italic;
}
.tooltip {
  position: relative;
  display: inline-block;
  cursor: help;
  font-size: 0.9rem;
  margin-left: 8px;
  color: var(--accent-yellow);
}

.tooltip .tooltip-text {
  visibility: hidden;
  width: 260px; /* trochę węższy */
  background-color: rgba(0, 0, 0, 0.9);
  color: #fff;
  text-align: left;
  border-radius: 6px;
  padding: 10px;
  position: absolute;
  z-index: 2000; /* ponad main-container */
  
  bottom: 125%; /* dymek nad ikoną */
  left: 0;      /* zaczynamy od lewej krawędzi ❓ */
  transform: translateX(-90%); /* mocne przesunięcie w lewo */
  
  opacity: 0;
  transition: opacity 0.3s;
  
  font-family: Arial, sans-serif;
  font-size: 0.85rem;
  line-height: 1.4;
  white-space: normal;
}

.tooltip .tooltip-text::after {
  content: "";
  position: absolute;
  top: 100%;
  left: 20%; /* strzałka bardziej z lewej */
  border-width: 6px;
  border-style: solid;
  border-color: rgba(0,0,0,0.9) transparent transparent transparent;
}

.tooltip:hover .tooltip-text {
  visibility: visible;
  opacity: 1;
}

        .sponsor-slider img{
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  display: block;
  opacity: 1;
  transition: opacity .35s ease;
}
.sponsor-slider img.is-fading{ opacity: 0; }

        .links-panel {
            flex: 1;
        }

        .stream-links {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-height: 300px;          /* ograniczenie wysokości */
  overflow-y: auto;           /* włączenie przewijania */
  padding-right: 4px;         /* miejsce na scrollbar */
}

.stream-links::-webkit-scrollbar {
  width: 6px;
}
.stream-links::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 3px;
}
.stream-links::-webkit-scrollbar-thumb {
  background: var(--primary-red);
  border-radius: 3px;
}
.stream-links::-webkit-scrollbar-thumb:hover {
  background: var(--secondary-red);
}

        .stream-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            text-decoration: none;
            color: var(--text-primary);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .stream-link:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--primary-red);
            transform: translateX(5px);
        }

        .platform-icon {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .twitch-icon {
            background: #9146FF;
            color: white;
        }

        .kick-icon {
            background: #53FC18;
            color: black;
        }

        .youtube-icon {
            background: #FF0000;
            color: white;
        }

        .streamer-info {
            flex: 1;
        }

        .streamer-name {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 2px;
        }

        /* Mobile Responsiveness */
        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 250px 1fr 250px;
                gap: 15px;
                padding: 15px;
            }
        }

        @media (max-width: 968px) {
            .main-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .race-info-panel, .right-panel {
                order: 2;
            }

            .stream-panel {
                order: 1;
            }

            .right-panel {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            }
        }

        @media (max-width: 640px) {
            .right-panel {
                grid-template-columns: 1fr;
            }

            .main-container {
                padding: 10px;
            }

            .header-content {
                padding: 0 15px;
            }

            .logo {
                font-size: 1.2rem;
            }
        }

        /* Scrollbar Styling */
        .position-list::-webkit-scrollbar {
            width: 6px;
        }

        .position-list::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
        }

        .position-list::-webkit-scrollbar-thumb {
            background: var(--primary-red);
            border-radius: 3px;
        }

        .position-list::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-red);
        }

        /* Race Calendar Styles */
        .race-calendar {
            max-width: 2500px;
            margin: 20px auto;
            padding: 20px;
            background: var(--background-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            backdrop-filter: blur(20px);
        }

        .calendar-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .calendar-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent-yellow);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .calendar-subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .race-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .race-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--primary-red);
            transform: translateY(-5px);
        }

        .race-card.completed {
            border-color: var(--gaming-green);
        }

        .race-card.current {
            border-color: var(--accent-yellow);
            animation: pulse-border 2s infinite;
        }

        .race-date {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .race-name {
            font-size: 1rem;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .race-status {
            font-size: 0.8rem;
            text-transform: uppercase;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 4px;
            display: inline-block;
        }

        .race-status.completed {
            background: var(--gaming-green);
            color: var(--background-dark);
        }

        .race-status.current {
            background: var(--accent-yellow);
            color: var(--background-dark);
        }

        .race-status.upcoming {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
        }

        .race-countdown{
  margin-top:10px;
  font-family:'Orbitron', monospace;
  font-weight:700;
  font-size:1rem;
  color:var(--accent-yellow);
  letter-spacing:.5px;
}

        /* Modal Styles */
        .race-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(20, 20, 20, 0.95));
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: linear-gradient(135deg, var(--background-card), rgba(30, 30, 30, 0.95));
            border: 2px solid var(--border-color);
            border-radius: 16px;
            margin: 3% auto;
            padding: 0;
            width: 90%;
            max-width: 700px;
            backdrop-filter: blur(20px);
            animation: modalSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 25px 30px;
            border-bottom: 2px solid var(--border-color);
            background: linear-gradient(90deg, rgba(255, 215, 0, 0.1), transparent);
        }

        .modal-header h3 {
            font-family: 'Orbitron', monospace;
            color: var(--accent-yellow);
            margin: 0;
            font-size: 1.4rem;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .close-modal {
            color: var(--text-secondary);
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 5px;
            border-radius: 50%;
        }

        .close-modal:hover {
            color: var(--primary-red);
            background: rgba(255, 0, 0, 0.1);
            transform: scale(1.1);
        }

        .modal-body {
            padding: 25px 30px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .driver-standings {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .driver-row {
            display: flex;
            align-items: center;
            padding: 18px 20px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border: 1px solid var(--border-color);
            border-radius: 12px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .driver-row::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .driver-row:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.08));
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .driver-row:hover::before {
            left: 100%;
        }

        .driver-row.podium {
            border-left: 5px solid var(--accent-yellow);
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 215, 0, 0.05));
        }

        .driver-row.podium.position-1 {
            border-left-color: #FFD700;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 215, 0, 0.08));
        }

        .driver-row.podium.position-2 {
            border-left-color: #C0C0C0;
            background: linear-gradient(135deg, rgba(192, 192, 192, 0.15), rgba(192, 192, 192, 0.05));
        }

        .driver-row.podium.position-3 {
            border-left-color: #CD7F32;
            background: linear-gradient(135deg, rgba(205, 127, 50, 0.15), rgba(205, 127, 50, 0.05));
        }

        .driver-position {
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            font-size: 1.4rem;
            color: var(--accent-yellow);
            min-width: 50px;
            text-align: center;
            text-shadow: 0 0 8px rgba(255, 215, 0, 0.4);
        }

        .driver-row.podium.position-1 .driver-position {
            color: #FFD700;
            text-shadow: 0 0 12px rgba(255, 215, 0, 0.6);
        }

        .driver-row.podium.position-2 .driver-position {
            color: #C0C0C0;
            text-shadow: 0 0 8px rgba(192, 192, 192, 0.4);
        }

        .driver-row.podium.position-3 .driver-position {
            color: #CD7F32;
            text-shadow: 0 0 8px rgba(205, 127, 50, 0.4);
        }

        .driver-info {
            flex: 1;
            margin-left: 25px;
        }

        .stream-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    text-decoration: none;
    color: var(--text-primary);
    transition: all 0.3s ease;
    cursor: pointer;
  }
  .stream-link:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--primary-red);
    transform: translateX(5px);
  }
  .platform-icon {
    width: 32px;
    height: 32px;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    font-weight: bold;
    flex-shrink: 0;
  }
  /* NOWE: mały okrągły avatar */
  .stream-link-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    object-fit: cover;
    display: block;
    flex-shrink: 0;
    border: 1px solid var(--border-color);
  }
  .streamer-info {
    display: flex;
    flex-direction: column;
    min-width: 0; /* lepsze zawijanie tekstu */
  }
  .streamer-name {
    font-weight: 600;
    font-size: 0.95rem;
    margin-bottom: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

        .footer {
  background: var(--background-card);
  border-top: 1px solid var(--border-color);
  border-radius: 12px 12px 0 0;
  padding: 20px 15px;
  max-width: 2500px;
  margin: 40px auto 0;
  backdrop-filter: blur(15px);
}

.footer-container {
  text-align: center;
  color: var(--text-secondary);
  font-size: 0.85rem;
}

.footer-logo {
  font-family: 'Orbitron', monospace;
  font-size: 1rem;
  font-weight: 700;
  color: var(--primary-red);
  margin-bottom: 6px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.footer-description {
  font-size: 0.85rem;
  margin-bottom: 15px;
  color: var(--text-secondary);
}

.footer-bottom {
  border-top: 1px solid var(--border-color);
  padding-top: 10px;
}

.footer-bottom p {
  margin: 4px 0;
}

.footer-bottom .powered-by {
  font-family: 'Orbitron', monospace;
  font-size: 0.8rem;
  color: var(--text-primary);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  margin-top: 6px;
  font-weight: 600;
  text-transform: uppercase;
}

.footer-bottom .powered-by img {
  height: 22px;
  width: auto;
  filter: brightness(0.9);
}

.footer-bottom .created-by {
  font-size: 0.75rem;
  color: var(--accent-yellow);
  margin-top: 4px;
  font-style: italic;
}

.cinema-toggle-btn {
  padding: 10px 18px;
  font-size: 16px;
  font-weight: 600;
  border: none;
  border-radius: 8px;
  background-color: #444;
  color: white;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  opacity: 0.6;
}

.cinema-toggle-btn.active {
  background-color: #00c853; /* zielony */
  opacity: 1;
}

.cinema-toggle-btn.inactive {
  background-color: #444;
  opacity: 0.6;
}


.cinema-toggle-btn:hover {
background: var(--secondary-red);
transform: scale(1.05);
}


/* Tryb kinowy */
.cinema-mode {
grid-template-columns: 75% 25% !important;
}


.cinema-mode .stream-panel {
min-height: 75vh;
}
.cinema-mode .chat-container {
min-height: 75vh;
}


@media (max-width: 968px) {
.cinema-mode {
grid-template-columns: 1fr !important;
}
}

  .chat-panel {
  background: var(--background-card);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 20px;
  backdrop-filter: blur(20px);
  flex: 1;
  display: flex;
  flex-direction: column;
}

.chat-container {
  flex: 1;
  background: #000;
  border-radius: 8px;
  overflow: hidden;
  min-height: 400px;
}

.race-status.live {
  background: var(--primary-red);
  color: #fff;
  animation: pulse-border 1.5s infinite;
}

.chat-embed {
  width: 100%;
  height: 100%;
  border: none;
}
  .streamer-hint {
    font-size: 0.8rem;
    color: var(--text-secondary);
    line-height: 1.2;
  }

        .driver-name {
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 6px;
            font-size: 1.1rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }

        .driver-team {
            font-size: 0.95rem;
            color: var(--text-secondary);
            opacity: 0.8;
            font-style: italic;
        }

        .driver-points {
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            color: var(--gaming-green);
            font-size: 1.1rem;
            text-shadow: 0 0 6px rgba(0, 255, 127, 0.3);
            padding: 8px 15px;
            background: rgba(0, 255, 127, 0.1);
            border-radius: 20px;
            border: 1px solid rgba(0, 255, 127, 0.3);
        }

        @keyframes pulse-border {
            0%, 100% { 
                border-color: var(--accent-yellow);
            }
            50% { 
                border-color: var(--primary-red);
            }
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .calendar-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">F1 Turniej Streamerów</div>
            <!-- Modified right side to include powered by text and logos -->
              <button id="cinemaToggleBtn" class="cinema-toggle-btn">❌ Tryb kinowy OFF</button>
            <div class="powered-by-section">
                <span class="powered-by-text">POWERED BY MRDZINOLD X</span>
              
                <img src="Daco_5061982.png" alt="Logitech" class="logitech-logo">
            </div>
        </div>
    </header>

 <section class="driver-of-the-day" style="max-width: 2500px; margin: 30px auto;">
  <div style="background: var(--background-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 25px; text-align: center;">
    <h2 class="panel-title">Kierowca dnia</h2>
    <p style="margin: 15px 0; color: var(--text-secondary);">
      Wyniki głosowania na najlepszego kierowcę wyścigu:
    </p>

    <!-- Wyniki -->
    <div style="display:flex; flex-direction:column; gap:18px; max-width:600px; margin:0 auto; text-align:left;">

      <!-- ZONY -->
      <div style="display:flex; align-items:center; gap:15px;">
        <img src="https://files.kick.com/images/user/7611781/profile_image/conversion/0d009281-9e24-4778-b6aa-7da06e1c3271-fullsize.webp" 
             alt="ZONY" 
             style="width:50px; height:50px; border-radius:50%; object-fit:cover; border:2px solid var(--accent-yellow);">
        <div style="flex:1;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <span style="font-weight:600; color:var(--text-primary);">ZONY</span>
            <span style="font-weight:700; color:var(--accent-yellow);">51,4%</span>
          </div>
          <div style="background:rgba(255,255,255,0.1); border-radius:6px; overflow:hidden; height:12px; margin-top:6px;">
            <div style="width:51.4%; height:100%; background:var(--accent-yellow);"></div>
          </div>
        </div>
      </div>

      <!-- Pevor -->
      <div style="display:flex; align-items:center; gap:15px;">
        <img src="https://static-cdn.jtvnw.net/jtv_user_pictures/765f143c-ede6-4833-8e16-013d9f8ffb06-profile_image-70x70.png" 
             alt="PEVOR" 
             style="width:50px; height:50px; border-radius:50%; object-fit:cover; border:2px solid var(--primary-red);">
        <div style="flex:1;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <span style="font-weight:600; color:var(--text-primary);">Pevor</span>
            <span style="font-weight:700; color:var(--primary-red);">13,9%</span>
          </div>
          <div style="background:rgba(255,255,255,0.1); border-radius:6px; overflow:hidden; height:12px; margin-top:6px;">
            <div style="width:13.9%; height:100%; background:var(--primary-red);"></div>
          </div>
        </div>
      </div>

      <!-- Mrdzinold -->
      <div style="display:flex; align-items:center; gap:15px;">
        <img src="https://static-cdn.jtvnw.net/jtv_user_pictures/3c3cfcb9-151f-4e31-a4b7-64afd52217c0-profile_image-300x300.png" 
             alt="Mrdzinold" 
             style="width:50px; height:50px; border-radius:50%; object-fit:cover; border:2px solid var(--gaming-green);">
        <div style="flex:1;">
          <div style="display:flex; justify-content:space-between; align-items:center;">
            <span style="font-weight:600; color:var(--text-primary);">MrDzinold</span>
            <span style="font-weight:700; color:var(--gaming-green);">6%</span>
          </div>
          <div style="background:rgba(255,255,255,0.1); border-radius:6px; overflow:hidden; height:12px; margin-top:6px;">
            <div style="width:6%; height:100%; background:var(--gaming-green);"></div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

   
        
        <!-- Race Info Modal -->
        <div id="raceModal" class="race-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle">Klasyfikacja Kierowców</h3>
                    <span class="close-modal" onclick="closeRaceModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <div id="driverStandings" class="driver-standings"></div>
                </div>
            </div>
        </div>
    </div>
    <div>
        
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Panel - Race Information -->
        <div class="race-info-panel" id="raceInfoPanel">
            <h2 class="panel-title">Informacje o Wyścigu</h2>
            
            <div class="race-info">
                <div class="info-item">
                    <div class="info-label">Tor</div>
                    <div class="info-value">???</div>
                </div>
                
                
                
            <div class="links-panel" id="linksPanel">
  <h2 class="panel-title">
    Transmisje
    <span class="tooltip">❓
      <span class="tooltip-text">
        Możesz przełączać się między transmisjami jednym kliknięciem.<br>
        Pamiętaj zalogować się na Twitchu oraz Kicku, aby móc komentować wydarzenie.
      </span>
    </span>
  </h2>
  <div class="stream-links">

   
    <!-- Mrdzinold (Twitch) -->
    <a href="https://www.twitch.tv/mrdzinold" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="twitch" data-channel="mrdzinold" draggable="true">
      <div class="platform-icon twitch-icon">T</div>
      <img class="stream-link-avatar"
           src="https://static-cdn.jtvnw.net/jtv_user_pictures/3c3cfcb9-151f-4e31-a4b7-64afd52217c0-profile_image-300x300.png"
           alt="Avatar Mrdzinold" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">Mrdzinold</div></div>
    </a>

    <!-- Tuszol (Kick) -->
    <a href="https://kick.com/tuszol" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="tuszol" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://img.siepomaga.pl/cdn-cgi/image/format=auto,width=1180/uploads/attached_image/photo/583382/816a8c9b-186c-4056-83b8-448365e9bf8d.jpg"
           alt="Avatar Tuszol" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">Tuszol</div></div>
    </a>

    <!-- Japczan (Kick) -->
    <a href="https://kick.com/japczan" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="japczan" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://yt3.googleusercontent.com/sfO9n7NN9cKlLsfWmLmgHOjJxkkBKzDBQlPdokQ0NRYVOV8hp6gzg0lJ-cAWqBGKy08e_FADxw=s900-c-k-c0x00ffffff-no-rj"
           alt="Avatar Japczan" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">Japczan</div></div>
    </a>

    <!-- BanduraCartel (Kick) -->
    <a href="https://kick.com/banduracartel" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="banduracartel" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://static-cdn.jtvnw.net/jtv_user_pictures/1472e57c-6d87-4ec9-8ce0-dc23f00bc891-profile_image-300x300.png"
           alt="Avatar BanduraCartel" loading="lazy"
           onerror="this.src='https://static-cdn.jtvnw.net/jtv_user_pictures/1472e57c-6d87-4ec9-8ce0-dc23f00bc891-profile_image-300x300.png'" />
      <div class="streamer-info"><div class="streamer-name">BanduraCartel</div></div>
    </a>

    <!-- PAGO (Twitch) -->
    <a href="https://www.twitch.tv/pago3" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="twitch" data-channel="pago3" draggable="true">
      <div class="platform-icon twitch-icon">T</div>
      <img class="stream-link-avatar"
           src="https://static-cdn.jtvnw.net/jtv_user_pictures/pago3-profile_image-5e9043daaa93d715-70x70.jpeg"
           alt="Avatar PAGO" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">PAGO</div></div>
    </a>

    <!-- PYKA (Kick) -->
    <a href="https://kick.com/pyka97" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="pyka97" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/16801650/profile_image/conversion/d5d2e240-2865-4cac-b362-e564a816a731-fullsize.webp"
           alt="Avatar PYKA" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">PYKA</div></div>
    </a>

    <!-- MERGHANI (Kick) -->
    <a href="https://kick.com/xmerghani" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="xmerghani" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/25772405/profile_image/conversion/396f16fe-e0c9-4cc5-b6e1-99f368d0fc4f-fullsize.webp"
           alt="Avatar MERGHANI" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">MERGHANI</div></div>
    </a>

    <!-- NEEX (Kick) -->
    <a href="https://kick.com/neexcsgo" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="neexcsgo" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/17714734/profile_image/conversion/07e74748-4b4b-4a7e-9fbd-63cca52eb0b5-fullsize.webp"
           alt="Avatar NEEX" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">NEEX</div></div>
    </a>

    <!-- NITRO (Kick) -->
    <a href="https://kick.com/NITER" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="NITER" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/190599/profile_image/conversion/24d8bac5-74ea-49ce-b6c3-9c9abd53874c-fullsize.webp"
           alt="Avatar NITRO" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">NITRO</div></div>
    </a>

    <!-- IZAK (Twitch) -->
    <a href="https://www.twitch.tv/izakooo" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="twitch" data-channel="izakooo" draggable="true">
      <div class="platform-icon twitch-icon">T</div>
      <img class="stream-link-avatar"
           src="https://static-cdn.jtvnw.net/jtv_user_pictures/fb0c5dab-f137-4860-a9df-0102056ec63d-profile_image-70x70.png"
           alt="Avatar IZAK" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">IZAK</div></div>
    </a>

    <!-- TOM223 (Kick) -->
    <a href="https://kick.com/xtom223" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="xtom223" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://static-cdn.jtvnw.net/jtv_user_pictures/3e654955-277e-4431-a530-847d8c7654ea-profile_image-70x70.png"
           alt="Avatar TOM223" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">TOM223</div></div>
    </a>

    <!-- PEVOR (Kick) -->
    <a href="https://kick.com/pevor13" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="pevor13" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://static-cdn.jtvnw.net/jtv_user_pictures/765f143c-ede6-4833-8e16-013d9f8ffb06-profile_image-70x70.png"
           alt="Avatar PEVOR" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">PEVOR</div></div>
    </a>

    <!-- PARIS PLATYNOV (Kick) -->
    <a href="https://kick.com/parisplatynov" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="parisplatynov" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/8917064/profile_image/conversion/83dccd66-ea64-4edf-8825-58d39a7bb953-fullsize.webp"
           alt="Avatar PARIS PLATYNOV" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">PARIS PLATYNOV</div></div>
    </a>

    <!-- MOKRYSUCHAR (Kick) -->
    <a href="https://kick.com/mokrysuchar" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="mokrysuchar" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/185177/profile_image/conversion/d1a1cbab-32c0-413f-8731-1c5e51deb5a6-fullsize.webp"
           alt="Avatar MOKRYSUCHAR" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">MOKRYSUCHAR</div></div>
    </a>

    <!-- WŁODAR (Kick) -->
    <a href="https://kick.com/achtenwlodar" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="achtenwlodar" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/29426666/profile_image/conversion/bb6db63c-e67c-4ef2-bf66-fe1ad8f32b2e-fullsize.webp"
           alt="Avatar WŁODAR" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">WŁODAR</div></div>
    </a>

    <!-- MARIOSPZOO (Kick) -->
    <a href="https://kick.com/mariospzoo" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="mariospzoo" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/39524235/profile_image/conversion/a4449a85-a77e-4f73-b3ce-2e46a294348a-fullsize.webp"
           alt="Avatar MARIOSPZOO" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">MARIOSPZOO</div></div>
    </a>

    <!-- ZONY (Kick) -->
    <a href="https://kick.com/zony" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="zony" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/7611781/profile_image/conversion/0d009281-9e24-4778-b6aa-7da06e1c3271-fullsize.webp"
           alt="Avatar ZONY" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">ZONY</div></div>
    </a>

    <!-- Majszi (Kick) -->
    <a href="https://kick.com/dmajszi" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="dmajszi" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/28243100/profile_image/conversion/b971919e-81de-43ea-af7f-808baebf9120-fullsize.webp"
           alt="Avatar Majszi" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">Majszi</div></div>
    </a>

    <!-- Demonz (Kick) -->
    <a href="https://kick.com/demonzz1" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="kick" data-channel="demonzz1" draggable="true">
      <div class="platform-icon kick-icon">K</div>
      <img class="stream-link-avatar"
           src="https://files.kick.com/images/user/41303148/profile_image/conversion/f621b559-4e75-4955-9e55-87b8efa7c77c-fullsize.webp"
           alt="Avatar Demonz" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">Demonz</div></div>
    </a>

    <!-- Roburwk (Instagram – nie stream, ale link do profilu) -->
    <a href="https://www.instagram.com/robercik_dynamit/" target="_blank" rel="noopener noreferrer"
       class="stream-link" data-platform="instagram" data-channel="robercik_dynamit" draggable="true">
      <div class="platform-icon" style="background:#E1306C;color:#fff;">IG</div>
      <img class="stream-link-avatar"
           src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRva7MQ0t2EPF9wQ-NBqyXxtRG4JChhPrWgYg&s"
           alt="Avatar Roburwk" loading="lazy" />
      <div class="streamer-info"><div class="streamer-name">Roburwk</div></div>
    </a>
  </div>
  
</div>
            </div>
        </div>

        <!-- Center Panel - Live Stream -->
        <div class="stream-panel" id="streamPanel">
  <div class="stream-header">
    <h1 class="stream-title" id="streamTitle">MRDZINOLD</h1>
  </div>

  <div class="stream-container">
    <iframe
      id="playerFrame"
      src="https://player.twitch.tv/?channel=mrdzinold&parent=f1turniejstremerow.pl"
      class="twitch-embed"
      allowfullscreen>
    </iframe>
  </div>
</div>

        <!-- Right Panel - Sponsors & Stream Links -->
       <div class="chat-panel" id="chatPanel">
  <h2 class="panel-title">Chat</h2>
  <div class="chat-container">
    <iframe
      id="chatFrame"
      class="chat-embed"
      src="https://www.twitch.tv/embed/mrdzinold/chat?parent=f1turniejstremerow.pl"
      allowfullscreen>
    </iframe>
  </div>
</div>
            <!-- Sponsors Section -->

            <!-- Stream Links Section -->



            </div>
        </div>
    </div>
    <div id="linksTarget" style="max-width: 2500px; margin: 20px auto;"></div>

  

    <!-- Race Calendar Section -->
    <div class="race-calendar">
        <div class="calendar-header">
            <h2 class="calendar-title">Kalendarz</h2>
            <p class="calendar-subtitle">Kliknij wydarzenie aby zobaczyć klasyfikację kierowców</p>
        </div>
        
        <div class="calendar-grid">
  <!-- Wyścig testowy z odliczaniem -->
  <div class="race-card current" data-race="1" onclick="showRaceInfo(1)">
  <div class="race-date">14.09 • 15:00</div>
  <div class="race-name">Wydarzenie testowe</div>
  <div class="race-status current">Odliczanie</div>
  <div id="testRaceCountdown" class="race-countdown">--d --h --m --s</div>
</div>

  <!-- Reszta jako ??? ??? ??? -->
  <div class="race-card upcoming" data-race="2" onclick="showRaceInfo(2)">
    <div class="race-date">???.??</div>
    <div class="race-name">???</div>
    <div class="race-status upcoming">???</div>
  </div>

  <div class="race-card upcoming" data-race="3" onclick="showRaceInfo(3)">
    <div class="race-date">???.??</div>
    <div class="race-name">???</div>
    <div class="race-status upcoming">???</div>
  </div>

  <div class="race-card upcoming" data-race="4" onclick="showRaceInfo(4)">
    <div class="race-date">???.??</div>
    <div class="race-name">???</div>
    <div class="race-status upcoming">???</div>
  </div>

  <div class="race-card upcoming" data-race="5" onclick="showRaceInfo(5)">
    <div class="race-date">???.??</div>
    <div class="race-name">???</div>
    <div class="race-status upcoming">???</div>
  </div>
</div>

<section class="driver-and-team-classification" style="max-width: 2500px; margin: 40px auto; display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">


<!-- Klasyfikacja Kierowców -->
<div class="driver-classification" style="background: var(--background-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px;">
<h2 class="panel-title">Klasyfikacja Kierowców</h2>
<div class="driver-standings">
<div class="driver-row">
<div class="driver-info" style="margin-left: 0;">
<div class="driver-name">Brak danych</div>
<div class="driver-team">Wyniki będą dostępne wkrótce</div>
</div>
</div>
</div>
</div>


<!-- Klasyfikacja Drużyn -->
<div class="team-classification" style="background: var(--background-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px;">
<h2 class="panel-title">Klasyfikacja Drużyn</h2>
<div class="driver-standings">
<div class="driver-row">
<div class="driver-info" style="margin-left: 0;">
<div class="driver-name">Brak danych</div>
<div class="driver-team">Wyniki będą dostępne wkrótce</div>
</div>
</div>
</div>
</div>


</section>
        </div>

<footer class="footer">
  <div class="footer-container">
    <div class="footer-content">
      <div class="footer-logo">F1 TURNIEJ STREAMERÓW</div>
      
    </div>

    <div class="footer-bottom">
      <p>&copy; 2025 F1 Turniej Streamerów. Wszystkie prawa zastrzeżone.</p>
      <p class="powered-by">
        POWERED BY <span>MRDZINOLD X</span>
        <img src="Daco_5061982.png" alt="Logo partnera" />
      </p>
      <p class="created-by">💡 Created by widz dla widzów</p>
    </div>
  </div>
</footer>

    <script>
        // Simulate live data updates
        function updateRaceInfo() {
            const statusElement = document.querySelector('.info-value');
            const statuses = ['Oczekiwanie na start', 'Rozgrzewka', 'Formacja startowa', 'Wyścig w toku'];
            const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
            
            if (statusElement) {
                statusElement.textContent = randomStatus;
            }
        }

          const TEST_RACE_TARGET = new Date(new Date().getFullYear(), 8 /* wrzesień=8 */, 14, 15, 0, 0, 0);


  function startTestRaceCountdown() {
  const el = document.getElementById('testRaceCountdown');
  const raceCard = document.querySelector('.race-card.current'); // karta wyścigu
  const raceStatus = raceCard.querySelector('.race-status');     // etykieta statusu

  if (!el || !raceStatus) return;

  function tick() {
    const now = new Date();
    let diff = TEST_RACE_TARGET - now;

    if (diff <= 0) {
      el.textContent = 'Start!';
      raceStatus.textContent = 'Trwa';         // <-- zmiana etykiety
      raceStatus.classList.remove('current');
      raceStatus.classList.add('live');        // możesz dodać klasę .live w CSS
      return;
    }

    const sec = Math.floor(diff / 1000);
    const d = Math.floor(sec / 86400);
    const h = Math.floor((sec % 86400) / 3600);
    const m = Math.floor((sec % 3600) / 60);
    const s = sec % 60;

    el.textContent = `${d}d ${String(h).padStart(2, '0')}h ${String(m).padStart(2, '0')}m ${String(s).padStart(2, '0')}s`;
    requestAnimationFrame(() => setTimeout(tick, 250));
  }
  tick();
}

  // 4) JS – PODMIEŃ funkcję showRaceInfo na:
  function showRaceInfo(raceNumber) {
    const modal = document.getElementById('raceModal');
    const modalTitle = document.getElementById('modalTitle');
    const driverStandings = document.getElementById('driverStandings');

    // Wszystkie wyścigi na teraz: nie odbyły się – pokaż komunikat
    const raceNames = {
      1: 'Wyścig testowy - 14.09 • 15:00',
      2: 'Wyścig 2 - ???',
      3: 'Wyścig 3 - ???',
      4: 'Wyścig 4 - ???',
      5: 'Wyścig 5 - ???',
    };

    modalTitle.textContent = raceNames[raceNumber] || 'Klasyfikacja Kierowców';
    driverStandings.innerHTML = `
      <div class="driver-row">
        <div class="driver-info" style="margin-left:0">
          <div class="driver-name">Wyścig się nie odbył</div>
          <div class="driver-team">Brak informacji o pozycjach</div>
        </div>
      </div>
    `;
    modal.style.display = 'block';
  }

  // 5) JS – w istniejącym DOMContentLoaded dodaj wywołanie odliczania:


       function rotateSponsorSlide() {
  const img = document.getElementById('sponsorSlide');
  if (!img) return;

  const slides = [
    'Daco_5061982.png',
    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTCNV2c5uj_iyzhEdPUvDoAeViRrJAMQM_uSw&s'
  ];

  // Preload obrazków i sprawdź czy się ładują
  slides.forEach(src => { 
    const p = new Image(); 
    p.src = src; 
    p.onerror = () => console.error(`Nie można załadować: ${src}`);
  });

  let i = 0;
  setInterval(() => {
    i = (i + 1) % slides.length;
    img.classList.add('is-fading');
    setTimeout(() => {
      img.src = slides[i];
      img.alt = `Sponsor ${i + 1}`;
      img.classList.remove('is-fading');
    }, 300);
  }, 5000);
}

  document.addEventListener('DOMContentLoaded', () => {
    startTestRaceCountdown();
    rotateSponsorSlide();
  });

        // Make stream links draggable/sortable
        function makeStreamLinksSortable() {
            const streamLinks = document.querySelector('.stream-links');
            let draggedElement = null;

            streamLinks.addEventListener('dragstart', (e) => {
                draggedElement = e.target.closest('.stream-link');
                e.target.style.opacity = '0.5';
            });

            streamLinks.addEventListener('dragend', (e) => {
                e.target.style.opacity = '';
                draggedElement = null;
            });

            streamLinks.addEventListener('dragover', (e) => {
                e.preventDefault();
            });

            streamLinks.addEventListener('drop', (e) => {
                e.preventDefault();
                const targetElement = e.target.closest('.stream-link');
                
                if (targetElement && draggedElement && targetElement !== draggedElement) {
                    const rect = targetElement.getBoundingClientRect();
                    const midpoint = rect.top + rect.height / 2;
                    
                    if (e.clientY < midpoint) {
                        streamLinks.insertBefore(draggedElement, targetElement);
                    } else {
                        streamLinks.insertBefore(draggedElement, targetElement.nextSibling);
                    }
                }
            });

            // Make links draggable
            document.querySelectorAll('.stream-link').forEach(link => {
                link.draggable = true;
            });
        }

        // Race Calendar Animation Logic
        function initRaceCalendar() {
            const raceDates = document.querySelectorAll('.race-date');
            const raceCar = document.querySelector('.race-car');
            const timeline = document.querySelector('.race-timeline');
            
            function updateCalendar() {
                const now = new Date();
                let currentRaceIndex = 0;
                let nextRaceIndex = 0;
                
                // Find current and next race
                raceDates.forEach((dateElement, index) => {
                    const raceDate = new Date(dateElement.dataset.date);
                    const circle = dateElement.querySelector('.date-circle');
                    
                    if (now > raceDate) {
                        circle.className = 'date-circle completed';
                        currentRaceIndex = index;
                    } else if (nextRaceIndex === 0 && now <= raceDate) {
                        circle.className = 'date-circle current';
                        nextRaceIndex = index;
                    } else {
                        circle.className = 'date-circle upcoming';
                    }
                });
                
                // Calculate car position
                if (nextRaceIndex > 0) {
                    const prevDate = new Date(raceDates[currentRaceIndex].dataset.date);
                    const nextDate = new Date(raceDates[nextRaceIndex].dataset.date);
                    const totalDuration = nextDate - prevDate;
                    const elapsed = now - prevDate;
                    const progress = Math.min(Math.max(elapsed / totalDuration, 0), 1);
                    
                    const prevPosition = raceDates[currentRaceIndex].offsetLeft + raceDates[currentRaceIndex].offsetWidth / 2;
                    const nextPosition = raceDates[nextRaceIndex].offsetLeft + raceDates[nextRaceIndex].offsetWidth / 2;
                    const carPosition = prevPosition + (nextPosition - prevPosition) * progress;
                    
                    raceCar.style.left = carPosition + 'px';
                } else {
                    // Car at first position
                    const firstPosition = raceDates[0].offsetLeft + raceDates[0].offsetWidth / 2;
                    raceCar.style.left = firstPosition + 'px';
                }
            }
            
            // Update immediately and then every minute
            updateCalendar();
            setInterval(updateCalendar, 60000);
            
            // Update on window resize
            window.addEventListener('resize', updateCalendar);
        }
const parts = [
  "https://docs.google.com/forms/",
  "d/e/1FAIpQLScGb1lN0ryanItqXkIMETQ5m2RwO0QWWdkvaO_PiRbkWLvVHw/",
  "viewform?usp=dialog"
];

const FINAL_FORM_URL = parts.join("");
  const voteUrl = parts.join("");

  // Jeśli chcesz włączyć przycisk np. w konkretnym momencie:
  function enableVoting() {
    const btn = document.getElementById("voteBtn");
    btn.style.background = "var(--primary-red)";
    btn.style.color = "#fff";
    btn.style.cursor = "pointer";
    btn.style.opacity = "1";
    btn.disabled = false;
    btn.addEventListener("click", () => {
      window.open(voteUrl, "_blank");
    });
  }

  // Na razie przycisk zostaje zablokowany
  enableVoting(); 

        function buildEmbed(platform, channel) {
  const parent = location.hostname; // <- dynamicznie pobiera domenę

  switch ((platform || '').toLowerCase()) {
    case 'twitch':
      return `https://player.twitch.tv/?channel=${encodeURIComponent(channel)}&parent=${encodeURIComponent(parent)}&autoplay=true`;
    case 'kick':
      return `https://player.kick.com/${encodeURIComponent(channel)}`;
    case 'youtube':
      return `https://www.youtube.com/embed/live_stream?channel=${encodeURIComponent(channel)}&autoplay=1`;
    default:
      return '';
  }
}

function buildChatEmbed(platform, channel) {
  const parent = location.hostname;

  switch ((platform || '').toLowerCase()) {
    case 'twitch':
      return `https://www.twitch.tv/embed/${encodeURIComponent(channel)}/chat?parent=${encodeURIComponent(parent)}`;
    case 'kick':
      return `https://kick.com/popout/${encodeURIComponent(channel)}/chat`;
    default:
      return '';
  }
}

  // Nasłuch kliknięć w liście transmisji i przełączanie playera + tytułu
  function wireStreamSwitcher() {
  const titleEl = document.getElementById('streamTitle');
  const frameEl = document.getElementById('playerFrame');
  const chatEl  = document.getElementById('chatFrame');

  document.querySelectorAll('.stream-link').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();

      const platform = link.dataset.platform || '';
      const channel  = link.dataset.channel  || '';
      const name     = link.querySelector('.streamer-name')?.textContent?.trim() || 'Transmisja';

      const src = buildEmbed(platform, channel);
      const chatSrc = buildChatEmbed(platform, channel);
      if (!src) return;

      titleEl.textContent = name;
      frameEl.src = src;
      if (chatSrc) chatEl.src = chatSrc;
    });
  });
}

  // Po załadowaniu strony podłącz przełącznik
  document.addEventListener('DOMContentLoaded', () => {
    wireStreamSwitcher();
  });

  

        // Initialize all functions
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize calendar
            initRaceCalendar();

            wireStreamSwitcher();
            
            // Update race info every 5 seconds
            setInterval(updateRaceInfo, 5000);
            
            // Start sponsor slide rotation
             rotateSponsorSlide();
            
            // Make stream links sortable
            makeStreamLinksSortable();

            
            
            // Add click handlers for stream links
            document.querySelectorAll('.stream-link').forEach(link => {
                if (link.href === '#') {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const streamerName = link.querySelector('.streamer-name').textContent;
                        const platform = link.dataset.platform;
                        
                        console.log(`Loading ${streamerName} stream from ${platform}`);
                    });
                }
            });
        });
document.getElementById('cinemaToggleBtn').addEventListener('click', () => {
  const container = document.querySelector('.main-container');
  const btn = document.getElementById('cinemaToggleBtn');
  const linksPanel = document.getElementById('linksPanel');
  const linksTarget = document.getElementById('linksTarget');
  const raceInfoPanel = document.getElementById('raceInfoPanel');

  const isCinema = container.classList.toggle('cinema-mode');

  if (isCinema) {
    btn.textContent = '✅ Tryb kinowy ON';
    btn.classList.remove('inactive');
    btn.classList.add('active');
    linksTarget.appendChild(linksPanel);
  } else {
    btn.textContent = '❌ Tryb kinowy OFF';
    btn.classList.remove('active');
    btn.classList.add('inactive');
    raceInfoPanel.appendChild(linksPanel); // ⬅ wraca na miejsce
  }
});
        // Race data with driver standings for each race
        const raceData = {
            1: {
                name: "Wyścig 1 - 20.08",
                drivers: [
                    { position: 1, name: "Mrdzinold", points: 25, team: "Red Bull Racing" },
                    { position: 2, name: "Tuszol", points: 18, team: "Mercedes" },
                    { position: 3, name: "Japczan", points: 15, team: "Ferrari" },
                    { position: 4, name: "BanduraCartel", points: 12, team: "McLaren" },
                    { position: 5, name: "Streamer 5", points: 10, team: "Alpine" },
                    { position: 6, name: "Streamer 6", points: 8, team: "Aston Martin" },
                    { position: 7, name: "Streamer 7", points: 6, team: "Williams" },
                    { position: 8, name: "Streamer 8", points: 4, team: "AlphaTauri" }
                ]
            },
            2: {
                name: "Wyścig 2 - 27.08",
                drivers: [
                    { position: 1, name: "Tuszol", points: 25, team: "Mercedes" },
                    { position: 2, name: "Mrdzinold", points: 18, team: "Red Bull Racing" },
                    { position: 3, name: "BanduraCartel", points: 15, team: "McLaren" },
                    { position: 4, name: "Japczan", points: 12, team: "Ferrari" },
                    { position: 5, name: "Streamer 6", points: 10, team: "Aston Martin" },
                    { position: 6, name: "Streamer 5", points: 8, team: "Alpine" },
                    { position: 7, name: "Streamer 8", points: 6, team: "AlphaTauri" },
                    { position: 8, name: "Streamer 7", points: 4, team: "Williams" }
                ]
            },
            3: {
                name: "Wyścig 3 - 03.09",
                drivers: [
                    { position: 1, name: "TBA", points: 0, team: "TBA" },
                    { position: 2, name: "TBA", points: 0, team: "TBA" },
                    { position: 3, name: "TBA", points: 0, team: "TBA" },
                    { position: 4, name: "TBA", points: 0, team: "TBA" },
                    { position: 5, name: "TBA", points: 0, team: "TBA" },
                    { position: 6, name: "TBA", points: 0, team: "TBA" },
                    { position: 7, name: "TBA", points: 0, team: "TBA" },
                    { position: 8, name: "TBA", points: 0, team: "TBA" }
                ]
            },
            4: {
                name: "Wyścig 4 - 10.09",
                drivers: [
                    { position: 1, name: "TBA", points: 0, team: "TBA" },
                    { position: 2, name: "TBA", points: 0, team: "TBA" },
                    { position: 3, name: "TBA", points: 0, team: "TBA" },
                    { position: 4, name: "TBA", points: 0, team: "TBA" },
                    { position: 5, name: "TBA", points: 0, team: "TBA" },
                    { position: 6, name: "TBA", points: 0, team: "TBA" },
                    { position: 7, name: "TBA", points: 0, team: "TBA" },
                    { position: 8, name: "TBA", points: 0, team: "TBA" }
                ]
            },
            5: {
                name: "Wyścig 5 - 17.09",
                drivers: [
                    { position: 1, name: "TBA", points: 0, team: "TBA" },
                    { position: 2, name: "TBA", points: 0, team: "TBA" },
                    { position: 3, name: "TBA", points: 0, team: "TBA" },
                    { position: 4, name: "TBA", points: 0, team: "TBA" },
                    { position: 5, name: "TBA", points: 0, team: "TBA" },
                    { position: 6, name: "TBA", points: 0, team: "TBA" },
                    { position: 7, name: "TBA", points: 0, team: "TBA" },
                    { position: 8, name: "TBA", points: 0, team: "TBA" }
                ]
            }
        };

       function showRaceInfo(raceNumber) {
    const modal = document.getElementById('raceModal');
    const modalTitle = document.getElementById('modalTitle');
    const driverStandings = document.getElementById('driverStandings');

    // Nazwy tylko do nagłówka modala (opcjonalnie, możesz zmienić)
    const raceNames = {
      1: 'Wyścig testowy - 15.09 • 14:00',
      2: 'Wyścig 2 - ???',
      3: 'Wyścig 3 - ???',
      4: 'Wyścig 4 - ???',
      5: 'Wyścig 5 - ???'
    };

    modalTitle.textContent = raceNames[raceNumber] || 'Klasyfikacja Kierowców';

    // Komunikat: wyścig się nie odbył – brak informacji
    driverStandings.innerHTML = `
      <div class="driver-row">
        <div class="driver-info" style="margin-left:0">
          <div class="driver-name">Brak informacji o pozycjach</div>
          <div class="driver-team">Wyścig się nie odbył</div>
        </div>
      </div>
    `;

    modal.style.display = 'block';
  }

        function closeRaceModal() {
            document.getElementById('raceModal').style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('raceModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html>




